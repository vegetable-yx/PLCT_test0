+ source /root/GitRepo/mugen-riscv/libs/locallibs/common_lib.sh
++ python3 --version
++ '[' 0 -eq 0 ']'
++ source /root/GitRepo/mugen-riscv/libs/locallibs/common_lib_python.sh
+ main
++ type -t post_test
+ '[' -n function ']'
+ trap post_test EXIT INT HUP TERM
+ rpm -qa
+ grep expect
++ type -t config_params
+ '[' -n '' ']'
++ type -t pre_test
+ '[' -n function ']'
+ pre_test
+ LOG_INFO 'Start to prepare the test environment.'
+ message='Start to prepare the test environment.'
+ python3 /root/GitRepo/mugen-riscv/libs/locallibs/mugen_log.py --level info --message 'Start to prepare the test environment.'
Fri Feb  3 02:02:05 2023 - INFO  - Start to prepare the test environment.
+ DNF_INSTALL help2man
+ pkgs=help2man
+ node=1
+ '[' -z '' ']'
+ tmpfile=
++ python3 /root/GitRepo/mugen-riscv/libs/locallibs/rpm_manage.py install --pkgs help2man --node 1 --tempfile ''
+ tmpfile2=/tmp/tmp0ff20wws
+ '[' -z '' ']'
+ tmpfile=/tmp/tmp0ff20wws
+ LOG_INFO 'End to prepare the test environment.'
+ message='End to prepare the test environment.'
+ python3 /root/GitRepo/mugen-riscv/libs/locallibs/mugen_log.py --level info --message 'End to prepare the test environment.'
Fri Feb  3 02:08:48 2023 - INFO  - End to prepare the test environment.
++ type -t run_test
+ '[' -n function ']'
+ run_test
+ LOG_INFO 'Start to run test.'
+ message='Start to run test.'
+ python3 /root/GitRepo/mugen-riscv/libs/locallibs/mugen_log.py --level info --message 'Start to run test.'
Fri Feb  3 02:08:55 2023 - INFO  - Start to run test.
+ help2man --help
+ grep 'Usage: help2man'
Usage: help2man [OPTION]... EXECUTABLE
+ CHECK_RESULT 0 0 0 'log message: Failed to run command: help2man --help'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='log message: Failed to run command: help2man --help'
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ help2man --version
+ egrep -o 'GNU help2man [0-9.]{1,}'
GNU help2man 1.48.5
+ CHECK_RESULT 0 0 0 'log message: Failed to run command: help2man --version'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='log message: Failed to run command: help2man --version'
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ help2man -n example echo
+ grep 'echo \\- example'
echo \- example
+ CHECK_RESULT 0 0 0 'log message: Failed to run command: help2man -n example echo'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='log message: Failed to run command: help2man -n example echo'
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ help2man -s 8 echo
+ grep 'ECHO "8"'
.TH ECHO "8" "February 2023" "echo --version" "System Administration Utilities"
+ CHECK_RESULT 0 0 0 'log message: Failed to run command: help2man -s 8 echo'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='log message: Failed to run command: help2man -s 8 echo'
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ help2man -S FSF echo
+ grep FSF
.TH ECHO "1" "February 2023" "FSF" "User Commands"
+ CHECK_RESULT 0 0 0 'log message: Failed to run command: help2man-S FSF echo'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='log message: Failed to run command: help2man-S FSF echo'
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ grep manname
+ help2man -m manname echo
.TH ECHO "1" "February 2023" "echo --version" "manname"
+ CHECK_RESULT 0 0 0 'log message: Failed to run command: help2man -m manname echo'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='log message: Failed to run command: help2man -m manname echo'
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ help2man -L C help2man
.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.48.5.
.TH HELP2MAN "1" "February 2023" "GNU help2man 1.48.5" "User Commands"
.SH NAME
help2man \- manual page for help2man 1.48.5
.SH SYNOPSIS
.B help2man
[\fI\,OPTION\/\fR]... \fI\,EXECUTABLE\/\fR
.SH DESCRIPTION
`help2man' generates a man page out of `\-\-help' and `\-\-version' output.
.TP
\fB\-n\fR, \fB\-\-name\fR=\fI\,STRING\/\fR
description for the NAME paragraph
.TP
\fB\-s\fR, \fB\-\-section\fR=\fI\,SECTION\/\fR
section number for manual page (1, 6, 8)
.TP
\fB\-m\fR, \fB\-\-manual\fR=\fI\,TEXT\/\fR
name of manual (User Commands, ...)
.TP
\fB\-S\fR, \fB\-\-source\fR=\fI\,TEXT\/\fR
source of program (FSF, Debian, ...)
.TP
\fB\-L\fR, \fB\-\-locale\fR=\fI\,STRING\/\fR
select locale (default "C")
.TP
\fB\-i\fR, \fB\-\-include\fR=\fI\,FILE\/\fR
include material from `FILE'
.TP
\fB\-I\fR, \fB\-\-opt\-include\fR=\fI\,FILE\/\fR
include material from `FILE' if it exists
.TP
\fB\-o\fR, \fB\-\-output\fR=\fI\,FILE\/\fR
send output to `FILE'
.TP
\fB\-p\fR, \fB\-\-info\-page\fR=\fI\,TEXT\/\fR
name of Texinfo manual
.TP
\fB\-N\fR, \fB\-\-no\-info\fR
suppress pointer to Texinfo manual
.TP
\fB\-l\fR, \fB\-\-libtool\fR
exclude the `lt\-' from the program name
.TP
\fB\-\-help\fR
print this help, then exit
.TP
\fB\-\-version\fR
print version number, then exit
.PP
EXECUTABLE should accept `\-\-help' and `\-\-version' options and produce output on
stdout although alternatives may be specified using:
.TP
\fB\-h\fR, \fB\-\-help\-option\fR=\fI\,STRING\/\fR
help option string
.TP
\fB\-v\fR, \fB\-\-version\-option\fR=\fI\,STRING\/\fR
version option string
.TP
\fB\-\-version\-string\fR=\fI\,STRING\/\fR
version string
.TP
\fB\-\-no\-discard\-stderr\fR
include stderr when parsing option output
.SH AUTHOR
Written by Brendan O'Dea <bod@debian.org>
.SH "REPORTING BUGS"
Report bugs to <bug\-help2man@gnu.org>.
.SH COPYRIGHT
Copyright \(co 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2009,
2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2020, 2021 Free Software
Foundation, Inc.
.br
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
.SH "SEE ALSO"
The full documentation for
.B help2man
is maintained as a Texinfo manual.  If the
.B info
and
.B help2man
programs are properly installed at your site, the command
.IP
.B info help2man
.PP
should give you access to the complete manual.
+ CHECK_RESULT 0 0 0 'log message: Failed to run command: help2man -L C help2man'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='log message: Failed to run command: help2man -L C help2man'
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ echo '[TEST]
The quick brown fox jumps over the lazy dog.'
+ help2man -i ./additional.h2m help2man
.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.48.5.
.TH HELP2MAN "1" "February 2023" "GNU help2man 1.48.5" "User Commands"
.SH NAME
help2man \- manual page for help2man 1.48.5
.SH SYNOPSIS
.B help2man
[\fI\,OPTION\/\fR]... \fI\,EXECUTABLE\/\fR
.SH DESCRIPTION
`help2man' generates a man page out of `\-\-help' and `\-\-version' output.
.TP
\fB\-n\fR, \fB\-\-name\fR=\fI\,STRING\/\fR
description for the NAME paragraph
.TP
\fB\-s\fR, \fB\-\-section\fR=\fI\,SECTION\/\fR
section number for manual page (1, 6, 8)
.TP
\fB\-m\fR, \fB\-\-manual\fR=\fI\,TEXT\/\fR
name of manual (User Commands, ...)
.TP
\fB\-S\fR, \fB\-\-source\fR=\fI\,TEXT\/\fR
source of program (FSF, Debian, ...)
.TP
\fB\-L\fR, \fB\-\-locale\fR=\fI\,STRING\/\fR
select locale (default "C")
.TP
\fB\-i\fR, \fB\-\-include\fR=\fI\,FILE\/\fR
include material from `FILE'
.TP
\fB\-I\fR, \fB\-\-opt\-include\fR=\fI\,FILE\/\fR
include material from `FILE' if it exists
.TP
\fB\-o\fR, \fB\-\-output\fR=\fI\,FILE\/\fR
send output to `FILE'
.TP
\fB\-p\fR, \fB\-\-info\-page\fR=\fI\,TEXT\/\fR
name of Texinfo manual
.TP
\fB\-N\fR, \fB\-\-no\-info\fR
suppress pointer to Texinfo manual
.TP
\fB\-l\fR, \fB\-\-libtool\fR
exclude the `lt\-' from the program name
.TP
\fB\-\-help\fR
print this help, then exit
.TP
\fB\-\-version\fR
print version number, then exit
.PP
EXECUTABLE should accept `\-\-help' and `\-\-version' options and produce output on
stdout although alternatives may be specified using:
.TP
\fB\-h\fR, \fB\-\-help\-option\fR=\fI\,STRING\/\fR
help option string
.TP
\fB\-v\fR, \fB\-\-version\-option\fR=\fI\,STRING\/\fR
version option string
.TP
\fB\-\-version\-string\fR=\fI\,STRING\/\fR
version string
.TP
\fB\-\-no\-discard\-stderr\fR
include stderr when parsing option output
.SH TEST
The quick brown fox jumps over the lazy dog.
.SH AUTHOR
Written by Brendan O'Dea <bod@debian.org>
.SH "REPORTING BUGS"
Report bugs to <bug\-help2man@gnu.org>.
.SH COPYRIGHT
Copyright \(co 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2009,
2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2020, 2021 Free Software
Foundation, Inc.
.br
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
.SH "SEE ALSO"
The full documentation for
.B help2man
is maintained as a Texinfo manual.  If the
.B info
and
.B help2man
programs are properly installed at your site, the command
.IP
.B info help2man
.PP
should give you access to the complete manual.
+ CHECK_RESULT 0 0 0 'log message: Failed to run command: help2man -i ./additional.h2m help2man'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='log message: Failed to run command: help2man -i ./additional.h2m help2man'
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ help2man -I does_not_exist.h2m help2man
.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.48.5.
.TH HELP2MAN "1" "February 2023" "GNU help2man 1.48.5" "User Commands"
.SH NAME
help2man \- manual page for help2man 1.48.5
.SH SYNOPSIS
.B help2man
[\fI\,OPTION\/\fR]... \fI\,EXECUTABLE\/\fR
.SH DESCRIPTION
`help2man' generates a man page out of `\-\-help' and `\-\-version' output.
.TP
\fB\-n\fR, \fB\-\-name\fR=\fI\,STRING\/\fR
description for the NAME paragraph
.TP
\fB\-s\fR, \fB\-\-section\fR=\fI\,SECTION\/\fR
section number for manual page (1, 6, 8)
.TP
\fB\-m\fR, \fB\-\-manual\fR=\fI\,TEXT\/\fR
name of manual (User Commands, ...)
.TP
\fB\-S\fR, \fB\-\-source\fR=\fI\,TEXT\/\fR
source of program (FSF, Debian, ...)
.TP
\fB\-L\fR, \fB\-\-locale\fR=\fI\,STRING\/\fR
select locale (default "C")
.TP
\fB\-i\fR, \fB\-\-include\fR=\fI\,FILE\/\fR
include material from `FILE'
.TP
\fB\-I\fR, \fB\-\-opt\-include\fR=\fI\,FILE\/\fR
include material from `FILE' if it exists
.TP
\fB\-o\fR, \fB\-\-output\fR=\fI\,FILE\/\fR
send output to `FILE'
.TP
\fB\-p\fR, \fB\-\-info\-page\fR=\fI\,TEXT\/\fR
name of Texinfo manual
.TP
\fB\-N\fR, \fB\-\-no\-info\fR
suppress pointer to Texinfo manual
.TP
\fB\-l\fR, \fB\-\-libtool\fR
exclude the `lt\-' from the program name
.TP
\fB\-\-help\fR
print this help, then exit
.TP
\fB\-\-version\fR
print version number, then exit
.PP
EXECUTABLE should accept `\-\-help' and `\-\-version' options and produce output on
stdout although alternatives may be specified using:
.TP
\fB\-h\fR, \fB\-\-help\-option\fR=\fI\,STRING\/\fR
help option string
.TP
\fB\-v\fR, \fB\-\-version\-option\fR=\fI\,STRING\/\fR
version option string
.TP
\fB\-\-version\-string\fR=\fI\,STRING\/\fR
version string
.TP
\fB\-\-no\-discard\-stderr\fR
include stderr when parsing option output
.SH AUTHOR
Written by Brendan O'Dea <bod@debian.org>
.SH "REPORTING BUGS"
Report bugs to <bug\-help2man@gnu.org>.
.SH COPYRIGHT
Copyright \(co 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2009,
2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2020, 2021 Free Software
Foundation, Inc.
.br
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
.SH "SEE ALSO"
The full documentation for
.B help2man
is maintained as a Texinfo manual.  If the
.B info
and
.B help2man
programs are properly installed at your site, the command
.IP
.B info help2man
.PP
should give you access to the complete manual.
+ CHECK_RESULT 0 0 0 'log message: Failed to run command: help2man -I does_not_exist.h2m help2man'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='log message: Failed to run command: help2man -I does_not_exist.h2m help2man'
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ help2man -p infoname echo
+ grep 'info infoname'
.B info infoname
+ CHECK_RESULT 0 0 0 'log message: Failed to run command: help2man -p infoname echo'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='log message: Failed to run command: help2man -p infoname echo'
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ help2man -N echo
+ grep info
+ CHECK_RESULT 1 1 0 'log message: Failed to run command: help2man -N echo'
+ actual_result=1
+ expect_result=1
+ mode=0
+ error_log='log message: Failed to run command: help2man -N echo'
+ '[' -z 1 ']'
+ '[' 0 -eq 0 ']'
+ test 1x '!=' 1x
+ return 0
+ help2man -l echo
+ grep lt
+ CHECK_RESULT 1 1 0 'log message: Failed to run command: help2man -l echo'
+ actual_result=1
+ expect_result=1
+ mode=0
+ error_log='log message: Failed to run command: help2man -l echo'
+ '[' -z 1 ']'
+ '[' 0 -eq 0 ']'
+ test 1x '!=' 1x
+ return 0
+ help2man -h helpstr echo
+ grep 'DESCRIPTION
helpstr'
.SH DESCRIPTION
helpstr
+ CHECK_RESULT 0 0 0 'log message: Failed to run command: help2man -h helpstr echo'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='log message: Failed to run command: help2man -h helpstr echo'
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ help2man -v versionstr echo
+ grep 'manual page for echo versionstr'
echo \- manual page for echo versionstr
+ CHECK_RESULT 0 0 0 'log message: Failed to run command: help2man -v versionstr echo'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='log message: Failed to run command: help2man -v versionstr echo'
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ help2man --version-string=test help2man
.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.48.5.
.TH HELP2MAN "1" "February 2023" "help2man test" "User Commands"
.SH NAME
help2man \- manual page for help2man test
.SH SYNOPSIS
.B help2man
[\fI\,OPTION\/\fR]... \fI\,EXECUTABLE\/\fR
.SH DESCRIPTION
`help2man' generates a man page out of `\-\-help' and `\-\-version' output.
.TP
\fB\-n\fR, \fB\-\-name\fR=\fI\,STRING\/\fR
description for the NAME paragraph
.TP
\fB\-s\fR, \fB\-\-section\fR=\fI\,SECTION\/\fR
section number for manual page (1, 6, 8)
.TP
\fB\-m\fR, \fB\-\-manual\fR=\fI\,TEXT\/\fR
name of manual (User Commands, ...)
.TP
\fB\-S\fR, \fB\-\-source\fR=\fI\,TEXT\/\fR
source of program (FSF, Debian, ...)
.TP
\fB\-L\fR, \fB\-\-locale\fR=\fI\,STRING\/\fR
select locale (default "C")
.TP
\fB\-i\fR, \fB\-\-include\fR=\fI\,FILE\/\fR
include material from `FILE'
.TP
\fB\-I\fR, \fB\-\-opt\-include\fR=\fI\,FILE\/\fR
include material from `FILE' if it exists
.TP
\fB\-o\fR, \fB\-\-output\fR=\fI\,FILE\/\fR
send output to `FILE'
.TP
\fB\-p\fR, \fB\-\-info\-page\fR=\fI\,TEXT\/\fR
name of Texinfo manual
.TP
\fB\-N\fR, \fB\-\-no\-info\fR
suppress pointer to Texinfo manual
.TP
\fB\-l\fR, \fB\-\-libtool\fR
exclude the `lt\-' from the program name
.TP
\fB\-\-help\fR
print this help, then exit
.TP
\fB\-\-version\fR
print version number, then exit
.PP
EXECUTABLE should accept `\-\-help' and `\-\-version' options and produce output on
stdout although alternatives may be specified using:
.TP
\fB\-h\fR, \fB\-\-help\-option\fR=\fI\,STRING\/\fR
help option string
.TP
\fB\-v\fR, \fB\-\-version\-option\fR=\fI\,STRING\/\fR
version option string
.TP
\fB\-\-version\-string\fR=\fI\,STRING\/\fR
version string
.TP
\fB\-\-no\-discard\-stderr\fR
include stderr when parsing option output
.SH "REPORTING BUGS"
Report bugs to <bug\-help2man@gnu.org>.
.SH "SEE ALSO"
The full documentation for
.B help2man
is maintained as a Texinfo manual.  If the
.B info
and
.B help2man
programs are properly installed at your site, the command
.IP
.B info help2man
.PP
should give you access to the complete manual.
+ CHECK_RESULT 0 0 0 'log message: Failed to run command: help2man --version-string='\''test'\'' help2man'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='log message: Failed to run command: help2man --version-string='\''test'\'' help2man'
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ help2man --no-discard-stderr echo
+ grep dis
disable interpretation of backslash escapes (default)
display this help and exit
This is free software: you are free to change and redistribute it.
+ CHECK_RESULT 0 0 0 'log message: Failed to run command: help2man --no-discard-stderr echo'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='log message: Failed to run command: help2man --no-discard-stderr echo'
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ help2man -o ./help2man.1 help2man
+ file ./help2man.1
+ grep -E '(ASCII text|UTF-8 Unicode text)'
./help2man.1: troff or preprocessor input, ASCII text
+ grep '\.\\" DO NOT MODIFY THIS FILE!' help2man.1
.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.48.5.
+ CHECK_RESULT 0 0 0 'log message: Failed to run command: help2man -o ./help2man.1 help2man'
+ actual_result=0
+ expect_result=0
+ mode=0
+ error_log='log message: Failed to run command: help2man -o ./help2man.1 help2man'
+ '[' -z 0 ']'
+ '[' 0 -eq 0 ']'
+ test 0x '!=' 0x
+ return 0
+ LOG_INFO 'End to run test.'
+ message='End to run test.'
+ python3 /root/GitRepo/mugen-riscv/libs/locallibs/mugen_log.py --level info --message 'End to run test.'
Fri Feb  3 02:13:57 2023 - INFO  - End to run test.
+ CASE_RESULT 0
+ case_re=0
+ test -z ''
+ test 0 -eq 0
+ LOG_INFO 'succeed to execute the case.'
+ message='succeed to execute the case.'
+ python3 /root/GitRepo/mugen-riscv/libs/locallibs/mugen_log.py --level info --message 'succeed to execute the case.'
Fri Feb  3 02:14:05 2023 - INFO  - succeed to execute the case.
+ exec_result=
+ exit 0
+ post_test
+ LOG_INFO 'Start to restore the test environment.'
+ message='Start to restore the test environment.'
+ python3 /root/GitRepo/mugen-riscv/libs/locallibs/mugen_log.py --level info --message 'Start to restore the test environment.'
Fri Feb  3 02:14:13 2023 - INFO  - Start to restore the test environment.
+ DNF_REMOVE
+ node=1
+ pkg_list=
+ mode=0
+ [[ -z /tmp/tmp0ff20wws ]]
+ '[' 0 -ne 0 ']'
+ '[' 1 == 0 ']'
+ python3 /root/GitRepo/mugen-riscv/libs/locallibs/rpm_manage.py remove --node 1 --pkgs '' --tempfile /tmp/tmp0ff20wws
+ '[' 0 -ne 0 ']'
+ rm -rf ./additional.h2m ./help2man.1
+ LOG_INFO 'End to restore the test environment.'
+ message='End to restore the test environment.'
+ python3 /root/GitRepo/mugen-riscv/libs/locallibs/mugen_log.py --level info --message 'End to restore the test environment.'
Fri Feb  3 02:22:00 2023 - INFO  - End to restore the test environment.
